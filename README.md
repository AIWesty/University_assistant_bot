MTI Admission Bot

–¢–µ–ª–µ–≥—Ä–∞–º‚Äë–±–æ—Ç –¥–ª—è –ø—Ä–∏—ë–º–Ω–æ–π –∫–æ–º–∏—Å—Å–∏–∏: –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ FAQ, —Å–æ–±–∏—Ä–∞–µ—Ç –∑–∞—è–≤–∫–∏ –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤ (–∞–Ω–∫–µ—Ç–∞), –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ—Ç–∑—ã–≤—ã –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ—Å—Ç—É—é –∞–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª—å –≤ —Å–∞–º–æ–º Telegram.

üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
	‚Ä¢	–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é: –±—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ (–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –î–æ–∫—É–º–µ–Ω—Ç—ã, –ü—Ä–æ—Ö–æ–¥–Ω—ã–µ –±–∞–ª–ª—ã, –°—Ä–æ–∫–∏ –ø–æ–¥–∞—á–∏, –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É, –û—Ç–∑—ã–≤, FAQ).
	‚Ä¢	FAQ: —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–∑ –ë–î, –æ—Ç–≤–µ—Ç—ã –ø–æ –∫–ª–∏–∫—É –Ω–∞ inline‚Äë–∫–Ω–æ–ø–∫–∏; –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Äî —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –∏/–∏–ª–∏ –∞–¥–º–∏–Ω–∫—É.
	‚Ä¢	–ê–Ω–∫–µ—Ç–∞ –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞: –∏–º—è, –≤–æ–∑—Ä–∞—Å—Ç, email, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, —Ç–µ–ª–µ—Ñ–æ–Ω, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ applications.
	‚Ä¢	–û—Ç–∑—ã–≤—ã: –ª—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ feedback.
	‚Ä¢	–ê–¥–º–∏–Ω–∫–∞ (/admin):
	‚Ä¢	–ü—Ä–æ—Å–º–æ—Ç—Ä 10 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞—è–≤–æ–∫, –æ—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä—è–º–æ –∏–∑ –±–æ—Ç–∞, –ø–æ–º–µ—Ç–∫–∞ ¬´–æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ¬ª, —É–¥–∞–ª–µ–Ω–∏–µ.
	‚Ä¢	–ü—Ä–æ—Å–º–æ—Ç—Ä/—É–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤.
	‚Ä¢	–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ FAQ: –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å/–æ—Ç–≤–µ—Ç.
	‚Ä¢	–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ —Å —É—Ä–æ–≤–Ω–µ–º —á–µ—Ä–µ–∑ LOG_LEVEL.
	‚Ä¢	–ú–∏–≥—Ä–∞—Ü–∏–∏: Alembic (sync‚ÄëURL), –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî SQLAlchemy Async + asyncpg.

‚∏ª

üß± –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
	‚Ä¢	Python 3.13
	‚Ä¢	Aiogram 3.x (–ø–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Telegram‚Äë—Ñ—Ä–µ–π–º–≤–æ—Ä–∫)
	‚Ä¢	SQLAlchemy 2.x (async), PostgreSQL 15, asyncpg
	‚Ä¢	Alembic (–º–∏–≥—Ä–∞—Ü–∏–∏, sync‚Äë–¥—Ä–∞–π–≤–µ—Ä psycopg2)
	‚Ä¢	Pydantic Settings (.env)
	‚Ä¢	Docker / Docker Compose

‚∏ª

üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (—Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ)

my_bot/
  bot.py                 # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (polling)
  alembic.ini            # —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π
  app/
    config.py            # Pydantic Settings (BOT_TOKEN, DB_URL, LOG_LEVEL, ADMIN_IDS)
    logger.py            # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤
    database.py          # –¥–≤–∏–∂–æ–∫/—Å–µ—Å—Å–∏–∏/metadata + —Ç–∞–±–ª–∏—Ü—ã (users, applications, feedback, faq)
    handlers/            # start/help/menu/form/tasks/feedback/faq/admin
    keyboards/           # main_menu, inline‚Äë–∫–Ω–æ–ø–∫–∏
    services/            # faq_service –∏ –¥—Ä.
    states/              # FSM: –∞–Ω–∫–µ—Ç–∞, –∞–¥–º–∏–Ω‚Äë—Å–æ—Å—Ç–æ—è–Ω–∏—è
  migrations/            # Alembic (env.py, –≤–µ—Ä—Å–∏–∏)
  logs/
  docker/
    entrypoint.sh        # –æ–∂–∏–¥–∞–Ω–∏–µ –ë–î, –º–∏–≥—Ä–∞—Ü–∏–∏, –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
.dockerignore
.docker-compose.yml
Dockerfile
.env.example
README.md
requirements.txt


‚∏ª

‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ .env (–Ω–∞ –æ—Å–Ω–æ–≤–µ .env.example):

BOT_TOKEN=123456:ABCDEF
LOG_LEVEL=INFO

# Postgres
POSTGRES_DB=mybot
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Async URL –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (SQLAlchemy + asyncpg)
ASYBC_DB_URL=postgresql+asyncpg://postgres:postgres@db:5432/mybot

# Sync URL –¥–ª—è Alembic (psycopg2)
SYNC_DB_URL=postgresql+psycopg2://postgres:postgres@db:5432/mybot

# –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
ADMIN_IDS=111111111,222222222

–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –Ω–∞—Å—Ç–æ—è—â–∏–π .env –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ .env.example.

‚∏ª

‚ñ∂Ô∏è –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)
	1.	Python 3.13, –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

python -m venv venv && source venv/bin/activate
pip install -r requirements.txt


	2.	–ü–æ–¥–Ω–∏–º–∏—Ç–µ PostgreSQL –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –≤ Docker –∏ —É–∫–∞–∂–∏—Ç–µ DB_URL –≤ .env.
	3.	–ú–∏–≥—Ä–∞—Ü–∏–∏:

alembic upgrade head


	4.	–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞:

python -m my_bot.bot 



‚∏ª

üê≥ –ó–∞–ø—É—Å–∫ –≤ Docker / Docker Compose
	1.	–°–∫–æ–ø–∏—Ä—É–π—Ç–µ .env.example ‚Üí .env –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã/–ø–∞—Ä–æ–ª–∏.
	2.	–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

docker compose build
docker compose up -d
docker compose logs -f bot

	‚Ä¢	–°–µ—Ä–≤–∏—Å db ‚Äî PostgreSQL 15, –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ volume pgdata.
	‚Ä¢	–°–µ—Ä–≤–∏—Å migrations –∑–∞–ø—É—Å–∫–∞–µ—Ç alembic upgrade head –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è.
	‚Ä¢	–°–µ—Ä–≤–∏—Å bot –∑–∞–≤–∏—Å–∏—Ç –æ—Ç migrations –∏ —Å—Ç–∞—Ä—Ç—É–µ—Ç polling.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ—Ä—Ç –ë–î –Ω–∞—Ä—É–∂—É –Ω–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ). –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å ports: - "5432:5432" –∫ db.

‚∏ª

üóÉ –ú–∏–≥—Ä–∞—Ü–∏–∏
	‚Ä¢	–°–æ–∑–¥–∞—Ç—å —Ä–µ–≤–∏–∑–∏—é:

alembic revision --autogenerate -m "message"


	‚Ä¢	–ü—Ä–∏–º–µ–Ω–∏—Ç—å:

alembic upgrade head


	‚Ä¢	–û—Ç–∫–∞—Ç–∏—Ç—å:

alembic downgrade -1



Alembic –∏—Å–ø–æ–ª—å–∑—É–µ—Ç sync‚ÄëURL (ALEMBIC_DATABASE_URL), –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî async‚ÄëURL (DB_URL).

‚∏ª

üìö –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ FAQ (–¥–µ–º–æ‚Äë–¥–∞–Ω–Ω—ã–µ)

python -m app.utils.load_faq_data

–°–∫—Ä–∏–ø—Ç –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å–∏ –±–µ–∑ –¥—É–±–ª–µ–π (–∏–ª–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —á–∏—Å—Ç–∏—Ç —Ç–∞–±–ª–∏—Ü—É –≤ DEV‚Äë—Ä–µ–∂–∏–º–µ).

‚∏ª

üîê –ê–¥–º–∏–Ω–∫–∞
	‚Ä¢	–ö–æ–º–∞–Ω–¥–∞: /admin.
	‚Ä¢	–î–æ—Å—Ç—É–ø –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —É Telegram‚ÄëID –∏–∑ ADMIN_IDS.
	‚Ä¢	–†–∞–∑–¥–µ–ª—ã: –∑–∞—è–≤–∫–∏, –æ—Ç–∑—ã–≤—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ FAQ.

‚∏ª

üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–º–∏–Ω–∏–º—É–º)
	‚Ä¢	–ü—Ä–æ–≤–µ—Ä—å—Ç–µ /start, –º–µ–Ω—é –∏ /help.
	‚Ä¢	–ü—Ä–æ–π–¥–∏—Ç–µ –∞–Ω–∫–µ—Ç—É ¬´–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É¬ª –∏ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—å—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø–∏—Å—å –ø–æ—è–≤–∏–ª–∞—Å—å –≤ –ë–î.
	‚Ä¢	–û—Ç–∫—Ä–æ–π—Ç–µ /admin ‚Üí ¬´–ó–∞—è–≤–∫–∏¬ª ‚Üí ¬´–û—Ç–≤–µ—Ç–∏—Ç—å¬ª ‚Äî –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –æ—Ç–≤–µ—Ç —Å–∞–º–æ–º—É —Å–µ–±–µ –∏–∑ –≤—Ç–æ—Ä–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞/–ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–µ—Ä–∞.

‚∏ª

üì¶ –î–µ–ø–ª–æ–π –Ω–∞ VPS (–∫—Ä–∞—Ç–∫–æ)
	1.	–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker + Docker Compose Plugin.
	2.	–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —Å–æ–∑–¥–∞–π—Ç–µ .env.
	3.	docker compose up -d --build.
	4.	–õ–æ–≥–∏: docker compose logs -f bot.
	5.	–ë–æ—Ç –Ω–∞ polling, –ø–æ—ç—Ç–æ–º—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è ‚Äî –Ω–∏–∂–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (—Å–º. —Ä–∞–∑–¥–µ–ª ¬´–î–µ–ø–ª–æ–π¬ª –≤ README).

‚∏ª

üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
	‚Ä¢	–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env.
	‚Ä¢	–ü–∞—Ä–æ–ª–∏ –∏ —Ç–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω–∏—Ç–µ –≤ —Å–µ–∫—Ä–µ—Ç–∞—Ö (GitHub, CI/CD) –∏–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
	‚Ä¢	–ù–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ –ø–æ—Ä—Ç –ë–î –Ω–∞—Ä—É–∂—É, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –Ω—É–∂–Ω–æ.

‚∏ª

üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT 